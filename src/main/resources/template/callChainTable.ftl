<html>
<head>
    <title>Coswee - Call Chains Analyze</title>
    <link rel="shortcut icon" type="image/x-icon" href="data:image/png;base64,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">

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
          integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <script src="http://jonmiles.github.io/bootstrap-treeview/bower_components/jquery/dist/jquery.js"></script>
    <#--<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>-->
    <script src="http://jonmiles.github.io/bootstrap-treeview/js/bootstrap-treeview.js"></script>
    <script src="https://kryogenix.org/code/browser/sorttable/sorttable.js"></script>
    <style type="text/css" id="treeview1-style"> .treeview .list-group-item {
        cursor: pointer
    }
    .bs-docs-header {
        position: relative;
        padding: 30px 0;
        color: #cdbfe3;
        background-f: #61C400;
        background-f: #70b100;
        background-f: #809d00;
        background-f: #908a00;
        background-f: #a07600;
        background-f: #a07600;
        background-f: #b06200;
        background-f: #bf4f00;
        background-f: #cf3b00;
        background-f: #df2800;
        background-f: #FF0000;
        background-f: #FF0000;
        text-align: center;
        text-shadow: 0 1px 0 rgba(0,0,0,.1);
        background-color: #6f5499;
        background-image: -webkit-gradient(linear,left top,left bottom,from(#563d7c),to(#6f5499));
        background-image: -webkit-linear-gradient(top,#563d7c 0,#6f5499 100%);
        background-image: -o-linear-gradient(top,#563d7c 0,#6f5499 100%);
        background-image: linear-gradient(to bottom,#563d7c 0,#6f5499 100%);
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#563d7c', endColorstr='#6F5499', GradientType=0);
        background-repeat: repeat-x;
        margin-bottom: 40px;
    }

    </style>
</head>
<body>
<div class="bs-docs-header" id="content" tabindex="-1">
    <div class="container"><h1>Coswee</h1>
        <p>Show JAVA Spring Web program call chains intuitively, for costing analyze.</p>
    </div>
</div>
<div class="container">
    <button id="btn_reload" type="button" class="btn btn-default btn-lg"><span class="glyphicon glyphicon-repeat" aria-hidden="true"></span> Reload Data</button>
    <button id="btn_clear" type="button" class="btn btn-default btn-lg"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Clear Data</button>
    <button id="btn_statistics" type="button" class="btn btn-default btn-lg"><span class="glyphicon glyphicon-list" aria-hidden="true"></span> Show Method Statistics</button>
    <#list treeNodeJsonMap?keys as key>
        <div class="row">
            <p>
            <h2>${key}</h2>
            <span id="btn_expand_${key_index}" class="glyphicon glyphicon-resize-full" aria-hidden="true"></span>
            </p>
            <div>
                <div id="tree_${key_index}" class=""></div>
            </div>
        </div>
        <#if treeNodeJsonMap[key].callTimesList??>
        <div class="row">
            <div>
                <div class="panel panel-default">
                    <div class="panel-heading">High times calls</div>
                    <table class="table sortable table-hover">
                        <thead>
                        <tr>
                            <th>method</th>
                            <th>times</th>
                            <th>cost</th>
                        </tr>
                        </thead>
                        <tbody>
                            <#list treeNodeJsonMap[key].callTimesList as callTimes>
                            <tr>
                                <td>${callTimes.shortName}</td>
                                <td>${callTimes.times}</td>
                                <td>${callTimes.cost}</td>
                            </tr>
                            </#list>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        </#if>
        <script>
            var treeData_${key_index}=[${treeNodeJsonMap[key]?string}];
            $('#tree_${key_index}').treeview({
                //expandIcon: "glyphicon glyphicon-stop",
                //collapseIcon: "glyphicon glyphicon-unchecked",
                //nodeIcon: "glyphicon glyphicon-log-in",
                //color: "yellow",
                //backColor: "purple",
                //onhoverColor: "orange",
                //borderColor: "red",
                //showBorder: false,
                levels: 99,
                showTags: true,
                highlightSelected: true,
                selectedColor: "yellow",
                selectedBackColor: "darkorange",
                data: treeData_${key_index}
            });
            $('#btn_expand_${key_index}').on('click', function (e) {
                $('#tree_${key_index}').treeview('expandAll', { levels: 99});
            });
        </script>
    </#list>
    <br/>
</div>
</body>
<script>
    $('#btn_clear').on('click', function (e) {
        if (confirm("You sure wanna clear all data?")) {
            $.get(window.location.href+"?action=clear", function (result) {
                window.location.reload();
            });
        }
    });
    $('#btn_reload').on('click', function (e) {
        window.location.reload();
    });
    $('#btn_statistics').on('click', function (e) {
        window.location.href = window.location.href+"?action=getStatisticsPage";
    });
</script>
</html>